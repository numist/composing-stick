var infScrLoadingFeedback="<p>loadingâ€¦</p>";

(function(){var d={idle:0,loading:1,success:2};var a=d.idle;var b=null;function c(){function f(j){if(b==null){regexp=/\/pages?\/([0-9]+)-?[0-9]*\/?$/;if(regexp.test(window.location.href)){nextPage=regexp.exec(window.location.href);b=nextPage[1]}else{nextPage=regexp.exec(j);b=nextPage[1]-1}}j=j.replace("page/","pages/"+b+"-");window.history.replaceState(null,null,j)}function e(j,k){for(i=0;i<k.length;i++){if($(j).html()==$(k[i]).html()){return true}}return false}if(a==d.idle&&$(document).height()<$(document).scrollTop()+(2*$(window).height())){a=d.loading;var h=$("article#more").last();var g=h.find("a").last().attr("href");if(g.length>0&&h.css("display")!="none"&&!!(window.history&&history.replaceState)){$.ajax({type:"GET",url:g,beforeSend:function(){h.clone().empty().insertBefore(h).append(infScrLoadingFeedback);h.hide()},success:function(k){var j=$(k).find("article");if(j.length>0){a=d.success;j.insertAfter(h);$(k).filter("script").each(function(l,n){if(!e(n,$(document).find("script"))){var m=document.createElement("script");m.charset="utf-8";m.type="text/javascript";if(n.src){m.src=n.src}else{if($(n).html().length){m.innerHTML=$(n).html()}}document.body.appendChild(m)}});f(g)}},complete:function(j,k){h.prev().remove();if(a!=d.success){h.show()}a=d.idle},dataType:"html"})}}}$(document).ready(function(){$(window).scroll(function(){$.doTimeout("scroll",200,c)})})})();