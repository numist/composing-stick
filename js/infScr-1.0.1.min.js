var infScrLoadingFeedback='<p>loadingâ€¦</p>';

function infScrExecute(){function b(a,b){for(i=0;i<b.length;i++){if($(a).html()==$(b[i]).html()){return true}}return false}function a(a){if(infScrUrlBasePage==null){regexp=/\/pages?\/([0-9]+)-?[0-9]*\/?$/;if(regexp.test(window.location.href)){nextPage=regexp.exec(window.location.href);infScrUrlBasePage=nextPage[1]}else{nextPage=regexp.exec(a);infScrUrlBasePage=nextPage[1]-1}}a=a.replace("page/","pages/"+infScrUrlBasePage+"-");window.history.replaceState(null,null,a)}if(infScrState==infScrStates.idle&&$(document).height()<$(document).scrollTop()+2*$(window).height()){infScrState=infScrStates.loading;moreNode=$("article#more").last();moreURL=moreNode.find("a").last().attr("href");if(moreURL.length>0&&moreNode.css("display")!="none"&&!!(window.history&&history.replaceState)){$.ajax({type:"GET",url:moreURL,beforeSend:function(){moreNode.clone().empty().insertBefore(moreNode).append(infScrLoadingFeedback);moreNode.hide()},success:function(c){var d=$(c).find("article");if(d.length>0){infScrState=infScrStates.success;d.insertAfter(moreNode);$(c).filter("script").each(function(a,c){if(!b(c,$(document).find("script"))){var d=document.createElement("script");d.charset="utf-8";d.type="text/javascript";if(c.src){d.src=c.src}else if($(c).html().length){d.innerHTML=$(c).html()}document.body.appendChild(d)}});a(moreURL)}},complete:function(a,b){moreNode.prev().remove();if(infScrState!=infScrStates.success){moreNode.show()}infScrState=infScrStates.idle},dataType:"html"})}}}var infScrStates={idle:0,loading:1,success:2};var infScrState=infScrStates.idle;var infScrUrlBasePage=null;$(document).ready(function(){$(window).scroll(function(){$.doTimeout("scroll",200,infScrExecute)})})